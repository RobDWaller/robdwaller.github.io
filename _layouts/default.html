<!doctype html>
<html lang="{{ site.lang | default: "en-US" }}">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>{{ page.title | default: site.title }}</title>

        <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--[if lt IE 9]>
            <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <meta name="keywords" content="{% for tag in page.tags %}{{tag}} {% endfor %} rob waller robdwaller robert" />
        <meta name="robots" content="index,follow" />
        <meta name="description" content="{{ page.description | default: site.description }}" />
        <meta property="og:title" content="{{ page.title | default: site.title }}" />
        <meta property="og:description" content="{{ page.description | default: site.description }}" />
        <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
        {% if site.github.owner_gravatar_url %}
        {% assign default_image = site.github.owner_gravatar_url %}
        {% else %}
        {% assign default_image = site.url | append: "/assets/img/rob.jpg" %}        
        {% endif %}
        <meta property="og:image" content="{{ page.image | default: default_image }}" />
        {% if page.date %}
        {% assign page_date = page.date | date_to_xmlschema %}
        {% assign page_type = 'article:' | append: page_date %}
        {% else %}
        {% assign page_type =  'website' %}
        {% endif %}
        <meta property="og:type" content="{{ page_type }}">
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="{{ site.twitter }}" />
        <meta name="twitter:title" content="{{ page.title | default: site.description }}" />
        <meta name="twitter:description" content="{{ page.description | default: site.description }}" />
        <meta name="twitter:image" content="{{ page.image | default: site.github.owner_gravatar_url }}" />
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
        <link rel="manifest" href="/assets/icons/site.webmanifest">
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                {% if page.date %}
                "@type": "BlogPosting",
                "headline": "{{ page.title | default: site.title }}",
                "datePublished": "{{ page.date | date_to_xmlschema }}",
                "dateModified": "{{ page.date | date_to_xmlschema }}",
                "author": {
                    "@type": "Person",
                    "name": "Rob Waller",
                    "gender": "Male",
                    "birthDate": "1984-04-25"
                },
                "publisher": {
                    "@type": "Person",
                    "givenName": "Robert",
                    "additionalName": "Duncan",
                    "familyName": "Waller",
                    "gender": "Male",
                    "birthDate": "1984-04-25",
                    "birthPlace": {
                        "@type": "Place",
                        "address": "Harlow, UK"
                    },
                    "email": "rdwaller1984@gmail.com",
                    "jobTitle": "Software Developer"
                },
                "mainEntityOfPage": "{{ site.url }}{{ page.url }}",
                {% else %}
                "@type": "WebSite",
                "creator": {
                    "@type": "Person",
                    "givenName": "Robert",
                    "additionalName": "Duncan",
                    "familyName": "Waller",
                    "gender": "Male",
                    "birthDate": "1984-04-25",
                    "birthPlace": {
                        "@type": "Place",
                        "address": "Harlow, UK"
                    },
                    "email": "rdwaller1984@gmail.com",
                    "jobTitle": "Software Developer"
                },
                {% endif %}
                "keywords": "{% for tag in page.tags %}{{tag}} {% endfor %}",
                "image": "{{ default_image }}",
                "url": "{{ site.url }}{{ page.url }}",
                "description": "{{ page.description | default: site.description }}"
            }
        </script>
    </head>
    <body>
        {% include header.html %}
        <div class="wrapper">
            {% include bio.html %}
            <section>
                {{ content }}
            </section>
        </div>
        {% include footer.html %}
    </body>
</html>
